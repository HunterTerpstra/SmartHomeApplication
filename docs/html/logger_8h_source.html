<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BULBasaur: logger.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BULBasaur
   </div>
   <div id="projectbrief">BULBasaur aims to create a smart home hub with wireless connectivity to external peripherals through WiFi. Emulated Sensors will feed data into the virtual server program which takes that input and combined with additional data, runs internal logic to decide the state of connected output devices such as smart light bulbs. A system like this can be used for light automation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">logger.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="logger_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#ifndef logger_h</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#define logger_h</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;sqlite3.h&gt;</span> </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include&lt;ctime&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log__message_8h.html">log_message.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifndef DEBUG</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define DEBUG 0</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classlogger.html">   33</a></span>&#160;<span class="keyword">class </span><a class="code" href="classlogger.html">logger</a>{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        sqlite3 *db; <span class="comment">// holds the sqlite3 db object</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        std::string appName; <span class="comment">// holds the app name</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        std::string getTime() <span class="keyword">const</span>; <span class="comment">// function to get system time</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        std::string getDate() <span class="keyword">const</span>; <span class="comment">// function to get date</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="comment">// Prevent copying and assignment</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classlogger.html#ab802c5b842db71b64596f81b9a6b7a31">   47</a></span>&#160;<span class="comment"></span>        <a class="code" href="classlogger.html#ab802c5b842db71b64596f81b9a6b7a31">logger</a>(<span class="keyword">const</span> <a class="code" href="classlogger.html">logger</a>&amp; other) { };</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlogger.html">logger</a>* _instance; <span class="comment">// holds the logger singleton instance</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classlogger.html#aadd537feeeb16186f6aeb4ca0267a8d7">~logger</a>();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classlogger.html">logger</a>&amp; <a class="code" href="classlogger.html#ae12c8bf5c62a1084453bd4ac0c77d724">instance</a>();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keyword">const</span> <a class="code" href="classlogger.html">logger</a>&amp; <a class="code" href="classlogger.html#a235d3b99d3480089543507f4377cda02">write</a>(std::string callerName,std::string msg) <span class="keyword">const</span>; <span class="comment">// method to write to db</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        std::vector&lt;log_message&gt; <a class="code" href="classlogger.html#ae519c12bf891707c8edc12f72b8b8565">read_all</a>() <span class="keyword">const</span>; <span class="comment">// method to read from db</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keyword">const</span> <a class="code" href="classlogger.html">logger</a>&amp; <a class="code" href="classlogger.html#aef7f28c2a3944ad1ccfad33c6a3e0c88">printToConsole</a>() <span class="keyword">const</span>; <span class="comment">// method to print event log to console</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="classlogger.html#a4f753a510e00c892b38e95c2284363a6">logger</a>(); <span class="comment">// Prevent instantiation</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;};</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">// end of file</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclasslogger_html_aadd537feeeb16186f6aeb4ca0267a8d7"><div class="ttname"><a href="classlogger.html#aadd537feeeb16186f6aeb4ca0267a8d7">logger::~logger</a></div><div class="ttdeci">virtual ~logger()</div><div class="ttdoc">Destroy the logger object.</div><div class="ttdef"><b>Definition:</b> logger.cpp:87</div></div>
<div class="ttc" id="aclasslogger_html_ab802c5b842db71b64596f81b9a6b7a31"><div class="ttname"><a href="classlogger.html#ab802c5b842db71b64596f81b9a6b7a31">logger::logger</a></div><div class="ttdeci">logger(const logger &amp;other)</div><div class="ttdoc">Construct a new logger object.</div><div class="ttdef"><b>Definition:</b> logger.h:47</div></div>
<div class="ttc" id="aclasslogger_html_ae12c8bf5c62a1084453bd4ac0c77d724"><div class="ttname"><a href="classlogger.html#ae12c8bf5c62a1084453bd4ac0c77d724">logger::instance</a></div><div class="ttdeci">static const logger &amp; instance()</div><div class="ttdoc">instanciator for singleton object creates the logger object if it does not exist</div><div class="ttdef"><b>Definition:</b> logger.cpp:9</div></div>
<div class="ttc" id="aclasslogger_html_aef7f28c2a3944ad1ccfad33c6a3e0c88"><div class="ttname"><a href="classlogger.html#aef7f28c2a3944ad1ccfad33c6a3e0c88">logger::printToConsole</a></div><div class="ttdeci">const logger &amp; printToConsole() const</div><div class="ttdoc">prints log to console grabs logs from db and print s them to console</div><div class="ttdef"><b>Definition:</b> logger.cpp:202</div></div>
<div class="ttc" id="aclasslogger_html_ae519c12bf891707c8edc12f72b8b8565"><div class="ttname"><a href="classlogger.html#ae519c12bf891707c8edc12f72b8b8565">logger::read_all</a></div><div class="ttdeci">std::vector&lt; log_message &gt; read_all() const</div><div class="ttdoc">creates a vector of messages from the db accesses the db and saves the messages into a vector</div><div class="ttdef"><b>Definition:</b> logger.cpp:136</div></div>
<div class="ttc" id="aclasslogger_html_a4f753a510e00c892b38e95c2284363a6"><div class="ttname"><a href="classlogger.html#a4f753a510e00c892b38e95c2284363a6">logger::logger</a></div><div class="ttdeci">logger()</div><div class="ttdoc">Construct a new logger object creates the logger object along with the database.</div><div class="ttdef"><b>Definition:</b> logger.cpp:45</div></div>
<div class="ttc" id="aclasslogger_html"><div class="ttname"><a href="classlogger.html">logger</a></div><div class="ttdoc">logger class used to log what's happening in the backend a logger class that uses a sqlite3 database ...</div><div class="ttdef"><b>Definition:</b> logger.h:33</div></div>
<div class="ttc" id="alog__message_8h_html"><div class="ttname"><a href="log__message_8h.html">log_message.h</a></div><div class="ttdoc">log_message class that holds a message's content</div></div>
<div class="ttc" id="aclasslogger_html_a235d3b99d3480089543507f4377cda02"><div class="ttname"><a href="classlogger.html#a235d3b99d3480089543507f4377cda02">logger::write</a></div><div class="ttdeci">const logger &amp; write(std::string callerName, std::string msg) const</div><div class="ttdoc">write message to log</div><div class="ttdef"><b>Definition:</b> logger.cpp:92</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
